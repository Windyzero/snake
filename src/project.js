require=function e(o,t,n){function c(a,s){if(!t[a]){if(!o[a]){var r="function"==typeof require&&require;if(!s&&r)return r(a,!0);if(i)return i(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var h=t[a]={exports:{}};o[a][0].call(h.exports,function(e){var t=o[a][1][e];return c(t?t:e)},h,h.exports,e,o,t,n)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)c(n[a]);return c}({Body:[function(e,o,t){"use strict";cc._RFpush(o,"86471n7i8hJCb1TjAcVNZH1","Body"),cc.Class({"extends":cc.Component,properties:{preNode:cc.Node,gameManager:e("GameManager")},onLoad:function(){},update:function(e){if(!this.gameManager.isOver){var o=cc.pSub(this.preNode.getPosition(),this.node.getPosition()),t=o.mag(),n=t/32*this.gameManager.speed;o.normalizeSelf(),this.node.x+=o.x*n*e,this.node.y+=o.y*n*e}}}),cc._RFpop()},{GameManager:"GameManager"}],GameManager:[function(e,o,t){"use strict";cc._RFpush(o,"ee902a5ErBAAajzXPchdKAz","GameManager"),cc.Class({"extends":cc.Component,properties:{speed:5,foodScore:100,score:0,bodyPrefab:cc.Prefab,head:cc.Node,food:cc.Node,mainPanel:cc.Node,overPanel:e("OverPanel"),scoreLabel:cc.Label,warningText:cc.Node,bodyNodes:[cc.Node]},onLoad:function(){this.resetFoodPos(),this.isOver=!1},showWarning:function(){this.isOver||(this.warningText.active=!0,this.warningText.stopAllActions(),this.warningText.runAction(cc.sequence(cc.blink(2,6),cc.callFunc(function(){this.warningText.active=!1},this))))},resetFoodPos:function(){this.food.x=220*cc.randomMinus1To1(),this.food.y=140*cc.randomMinus1To1()},checkCollision:function(){if(!this.isOver){util.checkCollision(this.head,this.food)&&this.addScore(),(Math.abs(this.head.x)>224||Math.abs(this.head.y)>144)&&this.gameover(this.head);var e=this.bodyNodes.length;if(e>1)for(var o=1;o<e;o++)util.checkCollision(this.head,this.bodyNodes[o])&&this.gameover(this.bodyNodes[o])}},addScore:function(){this.score+=this.foodScore,this.foodScore+=10,this.scoreLabel.string=this.score,this.speed*=1.1;var e=cc.instantiate(this.bodyPrefab),o=e.getComponent("Body");o.gameManager=this;var t=this.bodyNodes.length;t>0?o.preNode=this.bodyNodes[t-1]:o.preNode=this.head,this.bodyNodes.push(e),e.parent=this.mainPanel,e.setPosition(o.preNode.getPosition()),this.resetFoodPos()},gameover:function(e){this.speed=0,this.isOver=!0,e.runAction(cc.sequence(cc.blink(2,6),cc.callFunc(function(){this.overPanel.node.active=!0,this.overPanel.node.scale=0,this.overPanel.setScore(this.score),this.overPanel.node.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut()))},this)))}}),cc._RFpop()},{OverPanel:"OverPanel"}],Head:[function(e,o,t){"use strict";cc._RFpush(o,"933913pV99Mor5wpRhxTb5r","Head"),cc.Class({"extends":cc.Component,properties:{gameManager:e("GameManager"),canvas:cc.Node,direction:cc.Vec2},onLoad:function(){this.canvas.on("touchstart",this.onTouchStart,this)},onTouchStart:function(e){var o=e.getLocation(),t=this.node.convertToNodeSpaceAR(o),n=cc.pNormalize(t);if(this.direction.magSqr()>0){var c=n.angle(this.direction);if(c>.75*Math.PI)return void this.gameManager.showWarning()}this.direction=n},update:function(e){this.gameManager.isOver||(this.gameManager.checkCollision(),this.node.x+=this.gameManager.speed*this.direction.x*e,this.node.y+=this.gameManager.speed*this.direction.y*e)}}),cc._RFpop()},{GameManager:"GameManager"}],OverPanel:[function(e,o,t){"use strict";cc._RFpush(o,"01dfb978+ZLEqUIeC3+HV5b","OverPanel"),cc.Class({"extends":cc.Component,properties:{score:cc.Label},onLoad:function(){},setScore:function(e){this.score.string=e},restart:function(){cc.director.loadScene("gameScene")}}),cc._RFpop()},{}],StartScene:[function(e,o,t){"use strict";cc._RFpush(o,"446087eQ1hBBKk0Quu4uKw1","StartScene"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){cc.director.preloadScene("gameScene")},gameStart:function(){cc.director.loadScene("gameScene")}}),cc._RFpop()},{}]},{},["Body","GameManager","Head","OverPanel","StartScene"]);